#!/usr/bin/env node
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0});const o=require("./github.js"),i=(e=require("yargs"))&&e.__esModule?e:{default:e},t=require("child_process"),r=i.default.usage("Usage: -u <url> -s <keyword>").option("u",{alias:"userName",default:"mooninlearn",describe:"Name of User",type:"string",demandOption:!0}).option("e",{alias:"exec",default:"createRepo",describe:"exec command createRepo/inintRepo(create+clone+config)/copyRepo(clone+config)/deleteRepo",type:"string",demandOption:!0}).option("n",{alias:"repoName",describe:"NameOfRepository",type:"string",demandOption:!0}).option("d",{alias:"description",describe:"Description For Repository",type:"string"}).option("g",{alias:"github",describe:"Use Github API",type:"boolean",default:!1}).parseSync(),p={userName:r.u,exec:r.e,repoName:r.n,description:r.d,github:r.g},a=new o.Github(p.userName);switch(p.exec){case"initRepo":a.initRepo({name:p.repoName,description:p.description});break;case"createRepo":a.createRepo({name:p.repoName,description:p.description});break;case"copyRepo":a.copyRepo({name:p.repoName,description:p.description});break;case"emptyRepo":a.createRepo({name:p.repoName,description:p.description,auto_init:!1});break;case"pushRepo":let{repoName:n,description:s,userName:c}=p,d=`github -u ${c} -n ${n} -e emptyRepo -d "${s}"`;console.log(d),(0,t.execSync)(d),a.pushRepo({name:p.repoName,description:p.description});break;case"deleteRepo":a.deleteRepo({name:p.repoName})}