#!/usr/bin/env node
import{Octokit as e}from"@octokit/rest";import o from"yargs";import{findGithubAccount as r,createRemoteRepo as i,initRepo as a,deleteRemoteRepo as t,copyRepo as p,makeRepo as s,removeRepo as n}from"./git.js";import{getCurrentDir as m}from"./cli.js";let c=o.usage("Usage: -u <url> -s <keyword>").option("e",{alias:"exec",default:"copyRepo",describe:"exec command copyRepo(clone+local config)/makeRepo(create remote+push)/removeRepo(delete remote+local)",type:"string",demandOption:!0}).option("u",{alias:"userName",default:"mooninlearn",describe:"Name of User",type:"string"}).option("n",{alias:"repoName",describe:"NameOfRepository",type:"string"}).option("d",{alias:"description",describe:"Description For Repository",type:"string"}).argv,d=r(c.userName??""),l=new e({auth:d.token}),R=`${m()}/${c.repoName??""}`;switch(c.exec){case"initRepo":a(l,{name:c.repoName??"",description:c.description??""},d,R);break;case"createRemoteRepo":i(l,{name:c.repoName??"",description:c.description??""});break;case"deleteRemoteRepo":t(l,{name:c.repoName??""},d);break;case"copyRepo":p({name:c.repoName??"",description:c.description??"description"},d,R);break;case"makeRepo":s(l,{name:c.repoName??"",description:c.description??""},d,R);break;case"removeRepo":n(l,{name:c.repoName??""},d,R)}