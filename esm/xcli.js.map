{"version":3,"sources":["../src/xcli.ts"],"sourcesContent":["#!/usr/bin/env node\r\n// & IMPORT\r\n//&============================================================================\r\nimport yargs from \"yargs\";\r\nimport { execSync, ExecSyncOptionsWithStringEncoding } from \"child_process\";\r\nimport Path from \"path\";\r\nimport { sleep } from \"./basic.js\"\r\nimport { makeDir, copyDir, loadJson, saveJson, loadFile, saveFile, substituteInFile } from './builtin.js'\r\nimport { findGithubAccount } from \"./git.js\";\r\nimport { TEMPLATES_ROOT, PLATFORM, execOptions, initApp, removeApp, zip, tree } from \"./cli.js\";\r\nimport type { CliOptions } from './types.js';\r\n\r\n// & Types AREA\r\n//&============================================================================\r\ninterface CommandOptions {\r\n  exec?: string;\r\n  userName?: string;\r\n  template?: string;\r\n  repoName?: string;\r\n  description?: string;\r\n  github?: boolean;\r\n  excluded?: string;\r\n}\r\n\r\n// & CONSTS / VARIABLES\r\n//&============================================================================\r\n\r\n// * cli options\r\n// --no-github\r\nconst argv = yargs\r\n  .usage(\"Usage: -e <command> -u <userName> -t <template> -n <repoName> -d <description> -g\")\r\n  .option(\"e\", {\r\n    alias: \"exec\",\r\n    describe: \"Execute Command\",\r\n    type: \"string\",\r\n    demandOption: true,\r\n  })\r\n  .option(\"u\", {\r\n    alias: \"userName\",\r\n    default: \"mooninlearn\",\r\n    describe: \"Name of User\",\r\n    type: \"string\",\r\n  })\r\n  .option(\"t\", {\r\n    // - template: (node-simple|python|go|flutter|)\r\n    alias: \"template\",\r\n    default: \"node\",\r\n    describe: \"developemnt template(language)\",\r\n    type: \"string\",\r\n  })\r\n  .option(\"n\", {\r\n    alias: \"repoName\",\r\n    describe: \"Repository Name(Project Name)\", // project name\r\n    type: \"string\",\r\n  })\r\n  .option(\"d\", {\r\n    alias: \"description\",\r\n    describe: \"ProjectDescription\",\r\n    type: \"string\",\r\n  })\r\n  .option(\"g\", {\r\n    alias: \"github\",\r\n    default: true,\r\n    describe: \"Use Github Repository (--no-github: false)\",\r\n    type: \"boolean\",\r\n  })\r\n  .option(\"x\", {\r\n    alias: \"excluded\",\r\n    default: \"node_modules/,package-lock.json,package.json\",\r\n    describe: \"Excluded file/folder types For zip\",\r\n    type: \"string\",\r\n  })\r\n  .parseSync();\r\n\r\nconst options: CliOptions = {\r\n  exec: argv.e as string,\r\n  userName: argv.u as string,\r\n  template: argv.t as string,\r\n  repoName: argv.n as string,\r\n  description: argv.d,\r\n  github: argv.g as boolean,\r\n  excluded: argv.x as string\r\n};\r\n\r\n// & FUNCTIONS\r\n//&============================================================================\r\n\r\n\r\n// * exec\r\nswitch (options.exec) {\r\n  case \"init\":\r\n    initApp(options);\r\n    break;\r\n  case \"remove\":\r\n    removeApp(options);\r\n    break;\r\n  case \"zip\":\r\n    zip(options);\r\n    break;\r\n  case \"tree\":\r\n    tree(options);\r\n    break;\r\n  default:\r\n    console.log(\"Invalid command\");\r\n}\r\n\r\n"],"names":["yargs","initApp","removeApp","zip","tree","argv","usage","option","alias","describe","type","demandOption","default","parseSync","options","exec","e","userName","u","template","t","repoName","n","description","d","github","g","excluded","x","console","log"],"mappings":";AAGA,OAAOA,WAAW,QAAQ;AAM1B,SAAgDC,OAAO,EAAEC,SAAS,EAAEC,GAAG,EAAEC,IAAI,QAAQ,WAAW;AAoBhG,MAAMC,OAAOL,MACVM,KAAK,CAAC,qFACNC,MAAM,CAAC,KAAK;IACXC,OAAO;IACPC,UAAU;IACVC,MAAM;IACNC,cAAc;AAChB,GACCJ,MAAM,CAAC,KAAK;IACXC,OAAO;IACPI,SAAS;IACTH,UAAU;IACVC,MAAM;AACR,GACCH,MAAM,CAAC,KAAK;IAEXC,OAAO;IACPI,SAAS;IACTH,UAAU;IACVC,MAAM;AACR,GACCH,MAAM,CAAC,KAAK;IACXC,OAAO;IACPC,UAAU;IACVC,MAAM;AACR,GACCH,MAAM,CAAC,KAAK;IACXC,OAAO;IACPC,UAAU;IACVC,MAAM;AACR,GACCH,MAAM,CAAC,KAAK;IACXC,OAAO;IACPI,SAAS;IACTH,UAAU;IACVC,MAAM;AACR,GACCH,MAAM,CAAC,KAAK;IACXC,OAAO;IACPI,SAAS;IACTH,UAAU;IACVC,MAAM;AACR,GACCG,SAAS;AAEZ,MAAMC,UAAsB;IAC1BC,MAAMV,KAAKW,CAAC;IACZC,UAAUZ,KAAKa,CAAC;IAChBC,UAAUd,KAAKe,CAAC;IAChBC,UAAUhB,KAAKiB,CAAC;IAChBC,aAAalB,KAAKmB,CAAC;IACnBC,QAAQpB,KAAKqB,CAAC;IACdC,UAAUtB,KAAKuB,CAAC;AAClB;AAOA,OAAQd,QAAQC,IAAI;IAClB,KAAK;QACHd,QAAQa;QACR;IACF,KAAK;QACHZ,UAAUY;QACV;IACF,KAAK;QACHX,IAAIW;QACJ;IACF,KAAK;QACHV,KAAKU;QACL;IACF;QACEe,QAAQC,GAAG,CAAC;AAChB"}