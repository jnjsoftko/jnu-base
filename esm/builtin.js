import*as e from"fs";import r from"path";let t=e=>e.replace(/^\uFEFF/gm,"").replace(/^\u00BB\u00BF/gm,"").replace(/\r\n/g,"\n"),n=e=>(e=e.replace(/\\/g,"/")).endsWith("/")?e.slice(0,-1):e,i=e=>(e.startsWith(".")&&(e=r.join(process.cwd(),e)),n(e)),s=e=>e.normalize("NFKC"),c=e=>e?(e=s(e)).replace(/\[/g,"(").replace(/\]/g,")").replace(/[^\uAC00-\uD7A3a-zA-Z0-9_\(\)\<\>,\s]/g,"").replace(/\s+/g," ").trim():"",a=(r,n="utf8")=>{try{return t(e.readFileSync(i(r),{encoding:n}))}catch{return""}},l=(r,n="utf8")=>{try{return JSON.parse(t(e.readFileSync(i(r),{encoding:n})))}catch{return{}}},o=(t,n="",{encoding:s="utf-8",overwrite:c=!0,newFile:a=!0}={})=>{if(t=i(t),a&&e.existsSync(t)){let n=r.dirname(t),i=r.extname(t),s=r.basename(t,i),c=1;for(;e.existsSync(t);)t=r.join(n,`${s}(${c})${i}`),c++}e.mkdirSync(r.dirname(t),{recursive:!0}),c?e.writeFileSync(t,n,s):e.appendFileSync(t,n,s)},p=(e,r={},{indent:t=2,overwrite:n=!0,newFile:s=!1}={})=>{o(i(e),JSON.stringify(r,null,t),{overwrite:n,newFile:s})},y=r=>{e.mkdirSync(i(r),{recursive:!0})},u=(r,t,n=!0)=>{e.cpSync(i(r),i(t),{recursive:n})},d=(t,n="",i=[])=>{if(!e.existsSync(t))return[];let s=e.readdirSync(t);return i=i||[],s.forEach(function(s){e.statSync(t+"/"+s).isDirectory()?i=d(t+"/"+s,n,i):(n instanceof RegExp?n:new RegExp(n.replace(/\*/g,".*"))).test(s)&&i.push(r.join(t,"/",s))}),i};function m(t,i=""){let s=[];for(let c of e.readdirSync(t)){let a=r.join(t,c),l=i instanceof RegExp?i:new RegExp(i.replace(/\*/g,".*"));e.statSync(a).isDirectory()&&l.test(c)&&s.push(n(a))}return s}let S=r=>e.existsSync(r),f=r=>e.existsSync(r),g=r=>e.existsSync(r),F=(r,t,i,s)=>{r=n(r),t=n(t),e.rename(`${r}/${i}`,`${t}/${s}`,e=>console.log(e))},x=(r,t,i,s)=>{r=n(r),t=n(t),e.existsSync(t)||e.mkdirSync(t,{recursive:!0});for(let n=0;n<i.length;n++){let c=i[n],a=s[n];e.rename(`${r}/${c}`,`${t}/${a}`,e=>console.log(e))}};export{n as slashedFolder,i as setPath,c as sanitizeName,a as loadFile,l as loadJson,o as saveFile,p as saveJson,y as makeDir,u as copyDir,d as findFiles,m as findFolders,S as existsFolder,f as existsFile,g as exists,F as moveFile,x as moveFiles};